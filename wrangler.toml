# Cloudflare Pages configuration
# This file is used by Cloudflare Pages to configure the build output directory
#
# IMPORTANT: In Cloudflare Pages Dashboard, set Framework preset to "None"
# This prevents Cloudflare from auto-detecting Next.js and using @cloudflare/next-on-pages
# We're using static export (output: 'export'), not server-side Next.js

name = "galion-initiative-web"
compatibility_date = "2024-12-01"

# Pages configuration
pages_build_output_dir = "out"

# D1 Database binding configuration
# Configure via Cloudflare Dashboard (preferred for security):
# Pages Project → Settings → Functions → D1 database bindings
# OR
# Pages Project → Settings → Bindings → Add Binding → D1 Database Bindings
# Variable name: DB
# Database: galion-newsletter2
#
# Alternative: Uncomment below to configure via wrangler.toml
# (Note: This exposes the database UUID in the repository)
# [[d1_databases]]
# binding = "DB"
# database_name = "galion-newsletter2"
# database_id = "533b3203-d799-4cb3-91ea-6635eb346ea2"

# Alternative: Configure via Cloudflare Dashboard (preferred if available):
# Pages Project → Settings → Functions → D1 database bindings
# OR
# Pages Project → Settings → Bindings → Add Binding → D1 Database Bindings
# Variable name: DB
# Database: galion-newsletter2

# For local development with Wrangler:
# npx wrangler d1 execute galion-newsletter --local --file=schema.sql
# Then use: npx wrangler pages dev out --d1=DB=galion-newsletter --local

